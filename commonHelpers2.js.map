{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["'use strict';\nconst feedbackFormData = 'feedback-form-state';\n\nconst form = document.querySelector('.feedback-form');\n\ntry {\n  const dataFromStorage = JSON.parse(localStorage.getItem(feedbackFormData));\n  const { email, message } = dataFromStorage;\n\n  if (dataFromStorage) {\n    form.elements.email.value = email;\n    form.elements.message.value = message;\n  }\n} catch {\n  if (!JSON.parse(localStorage.getItem(feedbackFormData))) {\n    console.log();\n  } else {\n    console.log('Parse error!');\n  }\n}\n\nform.addEventListener('input', () => {\n  const formData = new FormData(form);\n  const formObject = {};\n\n  formData.forEach((value, key) => {\n    formObject[key] = value.trim();\n  });\n\n  localStorage.setItem(feedbackFormData, JSON.stringify(formObject));\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const formData = JSON.parse(localStorage.getItem(feedbackFormData));\n\n  if (formData && formData.email !== '' && formData.message !== '') {\n    console.log(formData);\n    localStorage.removeItem(feedbackFormData);\n    form.reset();\n  } else {\n    alert('Всі поля форми повинні бути заповнені');\n  }\n});\n"],"names":["feedbackFormData","form","dataFromStorage","email","message","formData","formObject","value","key","event"],"mappings":"wFACA,MAAMA,EAAmB,sBAEnBC,EAAO,SAAS,cAAc,gBAAgB,EAEpD,GAAI,CACF,MAAMC,EAAkB,KAAK,MAAM,aAAa,QAAQF,CAAgB,CAAC,EACnE,CAAE,MAAAG,EAAO,QAAAC,CAAS,EAAGF,EAEvBA,IACFD,EAAK,SAAS,MAAM,MAAQE,EAC5BF,EAAK,SAAS,QAAQ,MAAQG,EAElC,MAAE,CACK,KAAK,MAAM,aAAa,QAAQJ,CAAgB,CAAC,EAGpD,QAAQ,IAAI,cAAc,EAF1B,QAAQ,IAAG,CAIf,CAEAC,EAAK,iBAAiB,QAAS,IAAM,CACnC,MAAMI,EAAW,IAAI,SAASJ,CAAI,EAC5BK,EAAa,CAAA,EAEnBD,EAAS,QAAQ,CAACE,EAAOC,IAAQ,CAC/BF,EAAWE,GAAOD,EAAM,KAAI,CAChC,CAAG,EAED,aAAa,QAAQP,EAAkB,KAAK,UAAUM,CAAU,CAAC,CACnE,CAAC,EAEDL,EAAK,iBAAiB,SAAUQ,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMJ,EAAW,KAAK,MAAM,aAAa,QAAQL,CAAgB,CAAC,EAE9DK,GAAYA,EAAS,QAAU,IAAMA,EAAS,UAAY,IAC5D,QAAQ,IAAIA,CAAQ,EACpB,aAAa,WAAWL,CAAgB,EACxCC,EAAK,MAAK,GAEV,MAAM,uCAAuC,CAEjD,CAAC"}